{
  "mcp_server_info": {
    "name": "Sasya Arogya MCP Server",
    "version": "1.0.0",
    "description": "Agricultural insurance and crop management MCP server",
    "protocols": ["stdio", "http"],
    "endpoints": {
      "http": {
        "base_url": "http://localhost:8000",
        "health": "/health",
        "tools": "/tools",
        "call": "/tools/call",
        "stream": "/tools/call/stream"
      }
    }
  },
  "available_tools": [
    {
      "name": "calculate_crop_premium",
      "description": "Calculate insurance premium for a specific crop and area",
      "input_schema": {
        "type": "object",
        "properties": {
          "crop": {"type": "string", "description": "Name of the crop"},
          "area_hectare": {"type": "number", "description": "Area in hectares"},
          "state": {"type": "string", "description": "State where the crop is grown"}
        },
        "required": ["crop", "area_hectare", "state"]
      }
    },
    {
      "name": "get_insurance_companies",
      "description": "Get list of available insurance companies",
      "input_schema": {
        "type": "object",
        "properties": {
          "state": {"type": "string", "description": "State to filter companies (optional)"}
        }
      }
    },
    {
      "name": "generate_insurance_certificate",
      "description": "Generate an insurance certificate PDF for a farmer with automatic premium calculations",
      "input_schema": {
        "type": "object",
        "properties": {
          "farmer_name": {"type": "string", "description": "Name of the farmer"},
          "state": {"type": "string", "description": "State where the farmer is located"},
          "area_hectare": {"type": "number", "description": "Area of cultivation in hectares"},
          "crop": {"type": "string", "description": "Name of the crop being cultivated"},
          "disease": {"type": "string", "description": "Name of the plant disease affecting the crop (optional)"}
        },
        "required": ["farmer_name", "state", "area_hectare", "crop"]
      }
    },
    {
      "name": "recommend_insurance",
      "description": "Recommend insurance for a farmer based on crop, disease, and location",
      "input_schema": {
        "type": "object",
        "properties": {
          "disease": {"type": "string", "description": "Name of the plant disease affecting the crop"},
          "farmer_name": {"type": "string", "description": "Name of the farmer"},
          "state": {"type": "string", "description": "State where the farmer is located"},
          "area_hectare": {"type": "number", "description": "Area of cultivation in hectares"},
          "crop": {"type": "string", "description": "Name of the crop being cultivated"}
        },
        "required": ["disease", "farmer_name", "state", "area_hectare", "crop"]
      }
    }
  ],
  "sample_responses": {
    "calculate_crop_premium": {
      "input": {
        "crop": "Wheat",
        "area_hectare": 2.5,
        "state": "Karnataka"
      },
      "output": {
        "content": [
          {
            "type": "text",
            "text": "Premium calculation for Wheat in Karnataka:\nArea: 2.5 hectares\nPremium per hectare: ₹4915.57\nTotal premium: ₹12288.93\nGovernment subsidy: ₹11060.04\nFarmer contribution: ₹1228.89"
          }
        ],
        "isError": false
      }
    },
    "get_insurance_companies": {
      "input": {
        "state": "Karnataka"
      },
      "output": {
        "content": [
          {
            "type": "text",
            "text": "Available insurance companies in Karnataka:\n• General Insurance Corporation of India - New Delhi, India\n• Agriculture Insurance Company of India - Mumbai, India"
          }
        ],
        "isError": false
      }
    },
    "generate_insurance_certificate": {
      "input": {
        "farmer_name": "Ramesh Kumar",
        "state": "Karnataka",
        "area_hectare": 2.5,
        "crop": "Wheat",
        "disease": "Powdery Mildew"
      },
      "output": {
        "content": [
          {
            "type": "text",
            "text": "Insurance certificate generated successfully. PDF size: 12345 bytes"
          },
          {
            "type": "resource",
            "uri": "data:application/pdf;base64,JVBERi0xLjQKJcfsj6IKNSAwIG9iago8PAovVHlwZSAvUGFnZQovUGFyZW50IDMgMCBSCi9NZWRpYUJveCBbMCAwIDU5NSA4NDJdCi9SZXNvdXJjZXMgPDwKL0ZvbnQgPDwKL0YxIDIgMCBSCj4+Cj4+Ci9Db250ZW50cyA0IDAgUgo+PgplbmRvYmoK...",
            "mimeType": "application/pdf",
            "text": "Insurance Certificate PDF"
          }
        ],
        "isError": false
      }
    },
    "recommend_insurance": {
      "input": {
        "disease": "Powdery Mildew",
        "farmer_name": "Suresh Patel",
        "state": "Gujarat",
        "area_hectare": 3.0,
        "crop": "Cotton"
      },
      "output": {
        "content": [
          {
            "type": "text",
            "text": "Insurance recommendation generated successfully. PDF size: 15678 bytes"
          },
          {
            "type": "resource",
            "uri": "data:application/pdf;base64,JVBERi0xLjQKJcfsj6IKNSAwIG9iago8PAovVHlwZSAvUGFnZQovUGFyZW50IDMgMCBSCi9NZWRpYUJveCBbMCAwIDU5NSA4NDJdCi9SZXNvdXJjZXMgPDwKL0ZvbnQgPDwKL0YxIDIgMCBSCj4+Cj4+Ci9Db250ZW50cyA0IDAgUgo+PgplbmRvYmoK...",
            "mimeType": "application/pdf",
            "text": "Insurance Recommendation PDF"
          }
        ],
        "isError": false
      }
    }
  },
  "streaming_responses": {
    "calculate_crop_premium_stream": {
      "input": {
        "crop": "Rice",
        "area_hectare": 3.0,
        "state": "Tamil Nadu"
      },
      "stream_events": [
        {
          "type": "start",
          "tool": "calculate_crop_premium"
        },
        {
          "type": "content",
          "index": 0,
          "content": {
            "type": "text",
            "text": "Premium calculation for Rice in Tamil Nadu:\nArea: 3.0 hectares\nPremium per hectare: ₹0.00\nTotal premium: ₹0.00\nGovernment subsidy: ₹0.00\nFarmer contribution: ₹0.00"
          }
        },
        {
          "type": "complete"
        }
      ]
    }
  },
  "error_responses": {
    "invalid_tool": {
      "content": [
        {
          "type": "text",
          "text": "Unknown tool: invalid_tool_name"
        }
      ],
      "isError": false
    },
    "execution_error": {
      "content": [
        {
          "type": "text",
          "text": "Error executing tool calculate_crop_premium: Invalid crop data"
        }
      ],
      "isError": true
    },
    "validation_error": {
      "content": [
        {
          "type": "text",
          "text": "Error executing tool calculate_crop_premium: Missing required field 'crop'"
        }
      ],
      "isError": true
    }
  },
  "response_formats": {
    "standard_response": {
      "description": "Standard MCP tool response format",
      "structure": {
        "content": [
          {
            "type": "text|resource|image",
            "text": "Human-readable content",
            "uri": "data:application/pdf;base64,...",
            "mimeType": "application/pdf"
          }
        ],
        "isError": false
      }
    },
    "streaming_response": {
      "description": "Streaming MCP tool response format",
      "structure": {
        "type": "start|content|complete|error",
        "tool": "tool_name",
        "index": 0,
        "content": {},
        "message": "Error message"
      }
    }
  },
  "http_endpoints": {
    "health_check": {
      "method": "GET",
      "endpoint": "/health",
      "response": {
        "status": "healthy",
        "timestamp": 1234567890.123
      }
    },
    "list_tools": {
      "method": "GET",
      "endpoint": "/tools",
      "response": {
        "tools": [
          {
            "name": "calculate_crop_premium",
            "description": "Calculate insurance premium for a specific crop and area"
          }
        ]
      }
    },
    "call_tool": {
      "method": "POST",
      "endpoint": "/tools/call",
      "request_body": {
        "name": "calculate_crop_premium",
        "arguments": {
          "crop": "Wheat",
          "area_hectare": 2.5,
          "state": "Karnataka"
        }
      },
      "response": {
        "content": [
          {
            "type": "text",
            "text": "Premium calculation result..."
          }
        ],
        "isError": false
      }
    },
    "stream_tool": {
      "method": "POST",
      "endpoint": "/tools/call/stream",
      "content_type": "text/event-stream",
      "request_body": {
        "name": "calculate_crop_premium",
        "arguments": {
          "crop": "Rice",
          "area_hectare": 3.0,
          "state": "Tamil Nadu"
        }
      },
      "response": "data: {\"type\": \"start\", \"tool\": \"calculate_crop_premium\"}\n\ndata: {\"type\": \"content\", \"index\": 0, \"content\": {...}}\n\ndata: {\"type\": \"complete\"}\n\n"
    }
  },
  "integration_examples": {
    "curl_examples": {
      "health_check": "curl -X GET http://localhost:8000/health",
      "list_tools": "curl -X GET http://localhost:8000/tools",
      "call_tool": "curl -X POST http://localhost:8000/tools/call -H 'Content-Type: application/json' -d '{\"name\": \"calculate_crop_premium\", \"arguments\": {\"crop\": \"Wheat\", \"area_hectare\": 2.5, \"state\": \"Karnataka\"}}'",
      "stream_tool": "curl -X POST http://localhost:8000/tools/call/stream -H 'Content-Type: application/json' -d '{\"name\": \"calculate_crop_premium\", \"arguments\": {\"crop\": \"Rice\", \"area_hectare\": 3.0, \"state\": \"Tamil Nadu\"}}'"
    },
    "python_examples": {
      "http_client": "from mcp_http_client import MCPHTTPClient\nasync with MCPHTTPClient('http://localhost:8000') as client:\n    result = await client.call_tool('calculate_crop_premium', {'crop': 'Wheat', 'area_hectare': 2.5, 'state': 'Karnataka'})",
      "requests_library": "import requests\nresponse = requests.post('http://localhost:8000/tools/call', json={'name': 'calculate_crop_premium', 'arguments': {'crop': 'Wheat', 'area_hectare': 2.5, 'state': 'Karnataka'}})"
    }
  },
  "deployment_info": {
    "docker": {
      "image": "sasya-arogya-mcp:latest",
      "port": 8000,
      "health_check": "http://localhost:8000/health"
    },
    "docker_compose": {
      "service_name": "sasya-arogya-mcp",
      "ports": ["8000:8000"],
      "volumes": ["./resources:/app/resources:ro"]
    },
    "kubernetes": {
      "deployment_name": "sasya-arogya-mcp",
      "replicas": 3,
      "container_port": 8000
    }
  }
}

